# SSH Trust Deployment

这个项目提供了一套自动化脚本，用于在多个远程主机之间建立 SSH 互信关系。它包括以下步骤：

1. 安装 `sshpass` 工具，以便在没有交互式密码输入的情况下执行 `ssh-copy-id`。
2. 生成 SSH 密钥对。
3. 分发 SSH 公钥到目标主机。
4. 验证 SSH 连接。

## 脚本说明

- `deploy_control.sh`: 主控制脚本，依次执行安装 `sshpass`、生成密钥对、分发公钥和验证 SSH 连接的步骤。
- `ip_list`: 包含目标主机 IP 地址的文本文件。
- `ip_ssh_fenfa.sh`: 分发 SSH 公钥到目标主机的脚本。
- `ip_ssh_check.sh`: 验证 SSH 连接到目标主机的脚本。
- `sshpass_install.sh`: 安装 `sshpass` 的脚本。
- `ip_list`: 存储目标主机 IP 地址的文本文件。

## 使用方法

1. 创建一个名为 `ip_list` 的文本文件，其中包含一行一个目标主机 IP 地址。
2. 确保所有目标主机可以通过网络访问，并且具有允许 SSH 连接的配置。
3. 在项目目录中，运行 `./deploy_control.sh`。
4. 脚本将提示输入密码，输入目标主机的 root 用户密码。
5. 脚本执行完成后，SSH 互信关系应该已经建立。你可以使用 `ip_ssh_check.sh` 来验证连接。

## 注意事项

- 确保所有目标主机都满足运行 `sshpass` 和 `ssh-copy-id` 的系统要求。
- 请确保在目标主机上使用安全的密码策略，避免使用弱密码。
- 为了提高安全性，考虑使用密钥对认证而不是密码认证。
- 这些脚本默认使用 root 用户执行操作，确保你有权限执行这些命令。